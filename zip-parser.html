<!DOCTYPE html>
<html>
<head>
    <title>ZIP Archive Parser</title>
    <link rel="stylesheet" href="style.css">
    <script src="https://unpkg.com/jszip@3.10.1/dist/jszip.min.js"></script>
</head>
<body>
    <div class="container">
        <h2>ZIP Archive Parser</h2>
        <p>Extracts and lists contents of ZIP archives.</p>
        <input type="file" id="fileInput" accept=".zip" />
        <pre id="output" style="white-space: pre-wrap;"></pre>
        <a href="index.html" class="home-link">Back to Home</a>
    </div>

    <script>
        document.getElementById('fileInput').addEventListener('change', function(e) {
            const file = e.target.files[0];
            if (!file) return;

            const reader = new FileReader();
            reader.onload = function() {
                const arrayBuffer = reader.result;
                const zip = new JSZip();
                zip.loadAsync(arrayBuffer).then(function(content) {
                    let outputText = 'Contents of ' + file.name + ':\n\n';
                    content.forEach(function (relativePath, zipEntry) {
                        outputText += (zipEntry.dir ? 'Directory: ' : 'File: ') + relativePath + '\n';
                    });
                    document.getElementById('output').textContent = outputText;
                }).catch(function(error) {
                    document.getElementById('output').textContent = 'Error parsing ZIP file: ' + error.message;
                });
            };
            reader.readAsArrayBuffer(file);
        });
    </script>
</body>
</html>
